# ============================================================
# [global]
# ============================================================
[global]
timezone = "Asia/Seoul"
generation_mode = "streaming"  # "batch" or "streaming"
target_months = ["2025-09", "2025-10", "2025-11"] # 3달치생성시 ["2025-09", "2025-10", "2025-11"]
target_mps = 0  # 0이면 제한 없음


# ============================================================
# [database] - DBClient 객체에서 사용
# ============================================================
[database]
# DB 타입 선택: "mysql" (AWS RDS) 또는 "sqlite" (Mock DB)
db_type = "sqlite"

# SQLite 설정 (db_type = "sqlite"일 때 사용)
sqlite_db_path = "../db/ott_test.db"


# ============================================================
# [date_generator] - LogDateGenerator 객체에서 사용
# ============================================================
[date_generator]
dau = 1000
logs_per_user_per_day = 500000

# 요일별 로그 발생 비율 (합계 = 1.0)
[date_generator.day_of_week_ratio]
monday = 0.10
tuesday = 0.12
wednesday = 0.13
thursday = 0.12
friday = 0.20
saturday = 0.15
sunday = 0.18

# 시간대별 로그 발생 비율 (합계 = 1.0)
[date_generator.hour_distribution]
"0-6"   = 0.00048   # 새벽
"6-9"   = 0.09520   # 출근 시간
"9-12"  = 0.14278   # 오전
"12-14" = 0.09520   # 점심 시간
"14-18" = 0.09520   # 오후
"18-22" = 0.33318   # 저녁 피크
"22-24" = 0.14278   # 밤
# 합계 ≈ 1.00000

# ============================================================
# [user] - UserSelector 객체에서 사용
# ============================================================
[user]
# 신규 유저 생성 비율
new_user_ratio = 0.02  # 2%

# ============================================================
# [user_activity] - 유저 활성도 등급 설정
# ============================================================
[user_activity]
# 활성도 등급별 유저 비율 (합계 = 1.0)
high_ratio = 0.10    # 상위 활성 유저 20%
medium_ratio = 0.60  # 중간 활성 유저 50%
low_ratio = 0.30     # 하위 활성 유저 30%

# 활성도 등급별 평균 시청시간 (분 단위)
[user_activity.watch_time]
high_avg_minutes = 23      # 상위 활성 유저 평균 45분
medium_avg_minutes = 15    # 중간 활성 유저 평균 25분
low_avg_minutes = 10       # 하위 활성 유저 평균 10분

# 시청시간 noise 범위 (분 단위, ±)
high_noise = 5      # ±10분
medium_noise = 10     # ±8분
low_noise = 5       # ±5분

# ============================================================
# [user_event_transitions] - UserEventController 객체에서 사용
# ============================================================
# 유저 상태별 이벤트 발생 확률 설정
# 각 상태에서 발생 가능한 이벤트와 확률 정의
# ⚠️ 중요: 각 섹션 내의 확률 합계는 반드시 1.0이 되어야 합니다!
# random.choices()가 정상적으로 동작하려면 확률 합계가 1.0이어야 합니다.

[user_event_transitions.MAIN_PAGE]
# MAIN_PAGE 상태: 메인 페이지에서 구독자가 할 수 있는 행동 (합계 = 1.0)
[user_event_transitions.MAIN_PAGE.subscribed]
"access-out" = 0.05              # 로그아웃
"contents-click" = 0.55          # 콘텐츠 클릭
"subscription-stop" = 0.05       # 구독 해지
"register-out" = 0.0001            # 회원 탈퇴
"search-search" = 0.25           # 검색
"support-inquiry" = 0.10         # 고객 문의
# 합계: 0.05 + 0.55 + 0.03 + 0.02 + 0.25 + 0.10 = 1.00 ✓

# MAIN_PAGE 상태: 메인 페이지에서 비구독자가 할 수 있는 행동 (합계 = 1.0)
[user_event_transitions.MAIN_PAGE.not_subscribed]
"subscription-start" = 0.30      # 구독 시작
"contents-click" = 0.40          # 콘텐츠 클릭
"search-search" = 0.20           # 검색
"register-out" = 0.0001            # 회원 탈퇴
"support-inquiry" = 0.08         # 고객 문의
# 합계: 0.30 + 0.40 + 0.20 + 0.02 + 0.08 = 1.00 ✓

[user_event_transitions.CONTENT_PAGE]
# CONTENT_PAGE 상태: 콘텐츠 상세 페이지에서 구독자가 할 수 있는 행동 (합계 = 1.0)
[user_event_transitions.CONTENT_PAGE.subscribed]
"contents-start" = 0.67          # 재생 시작
"contents-like_on" = 0.16        # 좋아요 등록
"contents-like_off" = 0.06       # 좋아요 취소
"review-review" = 0.11           # 리뷰 작성
# 합계: 0.67 + 0.16 + 0.06 + 0.11 = 1.00 ✓

# CONTENT_PAGE 상태: 콘텐츠 상세 페이지에서 비구독자가 할 수 있는 행동 (합계 = 1.0)
[user_event_transitions.CONTENT_PAGE.not_subscribed]
"contents-like_on" = 0.75        # 좋아요 등록
"contents-like_off" = 0.25       # 좋아요 취소
# 합계: 0.75 + 0.25 = 1.00 ✓


# ============================================================
# [log_contents] - LogContents 객체에서 사용
# ============================================================
[log_contents]
# 플랫폼별 접속 비율
platform_ratio = { android = 0.35, ios = 0.30, pc = 0.25, tv = 0.10 }

# 리뷰 작성 시 내용 작성 확률
review_detail_ratio = 0.70  # 70% 확률로 리뷰 내용 작성

# 탈퇴 시 상세 이유 작성 확률
register_out_detail_ratio = 0.50  # 50% 확률로 탈퇴 사유 작성

# 검색어 후보 목록
search_terms = [
    "그것",
    "그것 프리퀄",
    "페니와이즈",

    "기묘한 이야기",
    "기묘한 이야기 시즌5",
    "일레븐",

    "트론",
    "트론 3",
    "트론 아레스",

    "트롤",
    "트롤의 습격",
    "괴물 재난 영화",

    "주토피아",
    "주토피아 2",
    "주디 홉스",

    "프레디의 피자가게",
    "프레디의 피자가게 2",
    "파이브 나이츠 앳 프레디스",

    "보우소나루",
    "브라질 정치 다큐",
    "실화 다큐멘터리",

    "드라큘라",
    "드라큘라 로맨스",
    "뱀파이어 영화",

    "포풍추영",
    "무협 영화",
    "중국 액션",

    "Wildcat",
    "실화 영화",
    "전기 드라마",

    "프레데터",
    "프레데터 신작",
    "외계인 헌터",

    "스파르타쿠스",
    "스파르타쿠스 스핀오프",
    "로마 검투사",

    "하이포스",
    "재난 블록버스터",
    "자연재해 영화",

    "우주전쟁",
    "외계인 침공",
    "SF 재난 영화",

    "아바타",
    "아바타 3",
    "아바타: 불과 재",
    "판도라 행성",

    "폴아웃",
    "폴아웃 드라마",
    "포스트 아포칼립스",

    "수퍼내추럴",
    "악마 사냥 드라마"
]

# 리뷰 내용 후보
review_samples = [
    "세계관이 정말 탄탄해요",
    "마지막 반전은 진짜 충격이었어요",
    "시리즈 팬이면 꼭 봐야 해요",
    "결말에서 주인공 선택이 인상적이네요",
    "연출이 압도적이네요",
    "중반 이후 분위기가 완전히 달라져요",
    "스토리가 예상보다 깊어요",
    "주요 인물 한 명이 사라지는 장면이 기억에 남아요",
    "비주얼 퀄리티가 뛰어나요",
    "엔딩이 열린 결말이라 해석이 갈려요",
    "긴장감이 끝까지 유지돼요",
    "후반부에서 세계관 설정이 크게 바뀌어요",
    "초반은 좋은데 후반이 아쉬워요",
    "빌런의 정체가 드러나는 순간이 최고였어요",
    "원작 팬이라면 만족할 것 같아요",
    "결국 희생으로 끝나는 전개가 마음 아프네요",
    "후속작이 더 기대돼요",
    "시즌 마지막 장면이 다음 이야기를 암시해요",
    "몰입감이 상당합니다",
    "예상했던 결말이 아니라서 놀랐어요",
    "캐릭터 매력이 좋아요",
    "주인공이 끝까지 살아남을 줄은 몰랐어요",
    "전개가 조금 느린 편이에요",
    "마지막에 떡밥을 많이 남겨서 아쉬워요",
    "음향과 영상이 인상적이에요",
    "엔딩 크레딧 이후 장면이 핵심이에요",
    "가볍게 보기엔 괜찮아요",
    "후반에 사건이 한꺼번에 터져요",
    "기대 이상이었습니다",
    "결말이 호불호 갈릴 것 같아요",
    "한 번 더 보고 싶어요",
    "모든 복선이 마지막에 회수돼요"
]

# 탈퇴 사유 후보
register_out_reasons = [
    "보고 싶은 콘텐츠가 없어요",
    "신작 업데이트가 느려요",
    "콘텐츠 종류가 한정적이에요",
    "추천이 제 취향과 맞지 않아요",

    "요금이 부담돼요",
    "가성비가 떨어진다고 느껴요",
    "가격 대비 만족도가 낮아요",

    "앱이 불편해요",
    "재생 오류가 자주 발생해요",
    "스트리밍 품질이 아쉬워요",
    "자막이나 더빙 품질이 별로예요",

    "사용 빈도가 줄었어요",
    "시간이 없어서 잘 안 보게 돼요",
    "더 이상 이용할 필요가 없어요",

    "타 OTT 서비스로 이동했어요",
    "경쟁 서비스 콘텐츠가 더 좋아요",

    "무료 체험만 사용했어요",
    "프로모션 종료 후 해지해요",

    "계정 공유 문제가 불편해요",
    "가족이나 지인 계정을 사용하게 됐어요",

    "기타 사유"
]

# 문의 내용 후보
inquiry_samples = [

    "결제가 됐는데 이용이 안돼요",
    "계정이 갑자기 정지됐어요",
    "환불 요청했는데 처리되지 않았어요",
    "구독 해지했는데 계속 결제돼요",
    "재생 오류가 계속 발생해서 시청이 불가능해요",


    "콘텐츠가 자주 끊겨요",
    "화질이 계속 낮게 나와요",
    "자막이 자주 안 맞아요",
    "앱이 자주 멈춰요",
    "로그인이 자꾸 풀려요",
    "추천 콘텐츠가 잘 안 맞아요",


    "구독 해지 방법 문의",
    "비밀번호 변경 방법",
    "프로필은 몇 개까지 만들 수 있나요?",
    "결제 수단 변경하고 싶어요",
    "이용권 종류가 어떻게 되나요?",
    "모바일과 TV 동시 시청 가능한가요?"
]

# 콘텐츠 시청 패턴 확률 (합계 = 1.0)
[log_contents.watch_pattern_probability]
"play_stop" = 0.15                      # Play → stop (즉시 이탈)
"play_pause_stop" = 0.25                # Play → Pause → stop (중단 이탈)
"play_pause_resume_stop" = 0.50         # Play → Pause → Resume → stop (정상 시청)
"play_pause_resume_pause_stop" = 0.10   # Play → Pause → Resume → Pause → stop (잦은 끊김)

# 구독 상품 타입별 선택 비율 (합계 = 1.0)
# subscription_plans 테이블의 subscription_type 참고
[log_contents.subscription_type_ratio]
"standard" = 0.40       # 스탠다드 (40%)
"premium" = 0.25        # 프리미엄 (25%)
"family" = 0.20         # 패밀리 (20%)
"mobile_only" = 0.15    # 모바일 전용 (15%)


# ============================================================
# [log_sink] - LogSink 객체에서 사용
# ============================================================
[log_sink]
# Sink 타입: "local", "s3", "kinesis"
sink_type = "kinesis"

# 로컬 저장 설정
output_dir = "../output"
topic = "user-logs"
partition = 0

# S3 저장 설정 (sink_type = "s3"일 때 사용)
s3_bucket = "sesac-l1"
s3_prefix = "raw-userlog"

# Kinesis Data Streams 설정 (sink_type = "kinesis"일 때 사용)
kinesis_stream_name = "user-logs-stream-single"
kinesis_region = "ap-northeast-2"
aws_profile = "team"  # AWS CLI Profile 이름 (예: "default", "my-profile"). 비워두면 환경 변수나 IAM Role 사용